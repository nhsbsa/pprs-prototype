{% extends 'layout.html' %}

{% block pageTitle %}
Quarterly collection dropdown - expander list
{% endblock %}

{% block content %}
<div class="nhsuk-back-link">

    <a class="nhsuk-back-link__link nhsuk-u-margin-bottom-5" href="supplier-contact">
        <svg class="nhsuk-icon nhsuk-icon__chevron-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" height="24" width="24">
            <path d="M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"></path>
        </svg>
        Go back to request dashboard</a>
</div>

        <h1><span class="nhsuk-caption-l">
     <span id="request-date">October 2023</span> - 4th request
     <span class="nhsuk-u-visually-hidden"> for </span>
   </span>
            DHSC product list
        </h1>

<div class="nhsuk-form-group">
    <p id="product-list-detail">The product list contains all products from your uploaded file. Review these products and add, or remove, as required.</p>
        <details class="nhsuk-details nhsuk-expander nhsuk-u-margin-bottom-6">
        <summary class="nhsuk-details__summary">
    <span class="nhsuk-details__summary-text">
      Amendments to the product list
    </span>
        </summary>
        <div class="nhsuk-details__text">
            <p id="removed-text">No amendments made.</p>
            <p id="added-text" class="hide-question"><strong class="nhsuk-tag nhsuk-tag--green nhsuk-u-margin-right-2">Added</strong>Paracetamol 200mg tablets 24 pack</p>
            <!--        <ul>-->
            <!--            <li>asking for them at your GP surgery </li>-->
            <!--            <li>going online to see them (if you have signed up for <a href="/using-the-nhs/nhs-services/gps/gp-online-services/">GP online services</a>) </li>-->
            <!--        </ul>-->
        </div>
    </details>

    <fieldset class="nhsuk-fieldset nhsuk-u-margin-bottom-3 nhsuk-u-margin-top-5">

        <details class="nhsuk-details">
            <summary class="nhsuk-details__summary">
    <span class="nhsuk-details__summary-text">
      Search for a specific attribute
    </span>
            </summary>

            <div class="nhsuk-details__text">
                <div class="nhsuk-form-group">
                    <label class="nhsuk-label" for="example">
                        Attribute search
                    </label>
                    <div class="nhsuk-hint" id="example-with-hint-text-hint">
                        If required, you can refine the product list by searching for a specific attribute, such as product name.
                    </div>
                    <input class="nhsuk-input" id="example" name="example" type="text">
                </div>

            <a class="nhsuk-button nhsuk-u-margin-top-6"
               id="continue-button" type="submit" href="#">
                Refine search
            </a>
            <a href="#" class="nhsuk-button nhsuk-button--secondary nhsuk-u-margin-left-5 nhsuk-u-margin-top-6">Reset search</a>
            </div>
        </details>

    </fieldset>

</div>

<div class="nhsuk-body-m flex--space-between" style="display: flex">
    <div class="nhsuk-u-visually-hidden">Currently viewing</div>
    <div id="pageAndResultCount">Page 1 of 1 (5 results)</div>
</div>

<table class="nhsuk-table-responsive" role="table">
    <caption class="nhsuk-table__caption">DHSC product list</caption>
    <thead role="rowgroup" class="nhsuk-table__head">
    <tr role="row">
        <th role="columnheader" class="" scope="col">
            Product name
        </th>
        <th role="columnheader" class="" scope="col">
            Pack
        </th>
        <th role="columnheader" class="" scope="col">
            Action
        </th>

    </tr>
    </thead>
    <tbody class="nhsuk-table__body">
    <tr role="row" class="nhsuk-table__row" id="remove-row">
        <td class="nhsuk-table__cell" role="cell">
            <span class="nhsuk-table-responsive__heading">Product name </span>
            Atorvastatin 10mg tablets</td>
        <td class="nhsuk-table__cell ">
            <span class="nhsuk-table-responsive__heading">Pack</span>
            60</td>

        <td class="nhsuk-table__cell ">
            <span class="nhsuk-table-responsive__heading">Action </span>
            <a class="nhsuk-link nhsuk-link--no-visited-state" href="delete-product">Remove</a></td>
    </tr>
    <tr role="row" class="nhsuk-table__row">
        <td class="nhsuk-table__cell">
            <span class="nhsuk-table-responsive__heading">Product name </span>
            Benzoyl peroxide 5% / Cindamycin 1% gel</td>
        <td class="nhsuk-table__cell ">
            <span class="nhsuk-table-responsive__heading">Pack</span>
            30</td>
        <td class="nhsuk-table__cell ">
            <span class="nhsuk-table-responsive__heading">Action </span>Remove</td>
    </tr>
    <tr role="row" class="nhsuk-table__row">
        <td class="nhsuk-table__cell">
            <span class="nhsuk-table-responsive__heading">Product name </span>
            Calcipotrial 0.005% / Bethamethasone dispropionate 0.05% ointment</td>
        <td class="nhsuk-table__cell ">
            <span class="nhsuk-table-responsive__heading">Pack</span>
            30</td>
        <td class="nhsuk-table__cell "><span class="nhsuk-table-responsive__heading">Action </span>
            Remove</td>
    </tr>
    <tr role="row" class="nhsuk-table__row">
        <td class="nhsuk-table__cell">
            <span class="nhsuk-table-responsive__heading">Product name </span>
            Cyclizine 50mg/1ml solution for injection ampoules</td>
        <td class="nhsuk-table__cell "><span class="nhsuk-table-responsive__heading">Pack</span>
            5</td>
        <td class="nhsuk-table__cell "><span class="nhsuk-table-responsive__heading">Action </span>Remove</td>
    </tr>
    <tr role="row" class="nhsuk-table__row">
        <td class="nhsuk-table__cell"><span class="nhsuk-table-responsive__heading">Product name </span>
            Isotretinoin 20mg capsules</td>
        <td class="nhsuk-table__cell "><span class="nhsuk-table-responsive__heading">Pack</span>30</td>
        <td class="nhsuk-table__cell "><span class="nhsuk-table-responsive__heading">Action </span>Remove</td>
    </tr>
    </tbody>
</table>

<nav class="govuk-pagination nhsuk-u-margin-bottom-7 nhsuk-u-margin-top-5" role="navigation" aria-label="results">
    <div class="govuk-pagination__prev">
        <a class="govuk-link govuk-pagination__link" href="#" rel="prev">
            <svg class="govuk-pagination__icon govuk-pagination__icon--prev" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13">
                <path d="m6.5938-0.0078125-6.7266 6.7266 6.7441 6.4062 1.377-1.449-4.1856-3.9768h12.896v-2h-12.984l4.2931-4.293-1.414-1.414z"></path>
            </svg>
            <span class="govuk-pagination__link-title">Previous</span></a>
    </div>
    <ul class="govuk-pagination__list">
        <li class="govuk-pagination__item">
            <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 1">
                1
            </a>
        </li>
        <li class="govuk-pagination__item govuk-pagination__item--current">
            <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 2" aria-current="page">
                2
            </a>
        </li>
        <li class="govuk-pagination__item">
            <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 3">
                3
            </a>
        </li>
    </ul>
    <div class="govuk-pagination__next">
        <a class="govuk-link govuk-pagination__link" href="#" rel="next"> <span class="govuk-pagination__link-title">Next</span> <svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13">
            <path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>
        </svg></a>
    </div>
</nav>

<div class="nhsuk-inset-text">
    <span class="nhsuk-u-visually-hidden">Information: </span>
    <p>If a product is missing then <a class="nhsuk-link nhsuk-link--no-visited-state" href="../product-list/product-list-results-add-product-name">add a product to the product list</a>.</p>
</div>

<a class="nhsuk-button nhsuk-button--primary nhsuk-u-margin-right-4" href="supplier-contact" id="save-button">Save and return to request dashboard</a>

<script>
     console.log(localStorage);

     if (localStorage.getItem("remove-product") == "yes" ) {
        document.getElementById("remove-row").classList.add("hide-area");
        document.getElementById("pageAndResultCount").innerHTML = "Page 1 of 1 (4 results)";
        document.getElementById("removed-text").classList.remove("hide-question");
        document.getElementById("removed-text").innerHTML = '<strong class="nhsuk-tag nhsuk-tag--red nhsuk-u-margin-right-2">Removed</strong> Atorvastatin 10mg tablets 60 pack.';
     }

    function saveAndExit() {
      localStorage.setItem("save-and-exit", "yes");
      }

    function saveBackAdditionalSupplier() {
      localStorage.setItem("go-back-supplier", "additional");
      }

      if (localStorage.getItem("dh-login") == "yes") {
         document.getElementById("product-list-detail").innerHTML = "The product list contains all products from your uploaded file. Review these products and add, or remove, as required. Once complete, you must save which will notify the NHS BSA that the product list is ready."
         document.getElementById("save-button").innerHTML = "Save and notify NHS BSA";
         document.getElementById("save-button").href = "../new-request/current-requests";
      }

      if (localStorage.getItem("added-product") && localStorage.getItem("remove-product") != "yes") {
          document.getElementById("added-text").classList.remove("hide-question");
          document.getElementById("removed-text").classList.add("hide-question");
      } else if (localStorage.getItem("added-product") && localStorage.getItem("remove-product") == "yes") {
          document.getElementById("added-text").classList.remove("hide-question");
          document.getElementById("removed-text").classList.remove("hide-question");
      }

      let requestDate = document.getElementById("request-date");
        var monthNames = ["January", "February", "March", "April", "May","June","July", "August", "September", "October", "November","December"];

        var d = new Date();
        var dayToday = d.getDate();
        var monthToday = monthNames[d.getMonth()];
        var yearToday = d.getFullYear();

        requestDate.innerHTML = monthToday + ' ' + yearToday;

</script>

{% endblock %}